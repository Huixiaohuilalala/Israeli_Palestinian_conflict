# 巴以冲突热点分析

## 文本获取

本文通过scrapy爬取的微博数据和[Daily Public Opinion on Israel-Palestine War | Kaggle](https://www.kaggle.com/datasets/asaniczka/reddit-on-israel-palestine-daily-updated/data)分别获取中英文的文本信息

## 数据预处理

中文数据保留中文、数字和英文，进行分词，画出词云图；英文数据保留英文与标点，进行缩写展开、结合词性进行词形还原，最后进行分词，画出词云图。本项目将这些数据分为4组。

## LDA分词

对于每个分完词的文档，计算tf-idf的值，获取每个文本的TF-IDF的矩阵表示，再使用gensim的LDA model进行训练，通过一致性和困惑度以及pyLDAvis选取最佳主题数，得到文档-主题矩阵。

## Kmeans聚类

对上述的文档-主题矩阵进行聚类，借助SSE、轮廓系数选取最佳超参数。然后对各个文档聚类结果和主题向量组成的矩阵进行卡方检验，寻找聚类结果（我们称之为话题）与原主题之间的相关性。发现kmeans聚类在选取的文本中并没有很好的效果，聚类之后k值和上述主题数基本一致，说明各个文本的主题基本只有一个，我猜想是由于微博以及reddit的评论信息基本都是短文本，所以每个文本的相关主题只有一个。

## 话题追踪

通过某一时期的文档-话题矩阵，可以训练出一个分类器，给出文档的TF-IDF矩阵推断其所属话题。通过该分类器可以将未来的文本进行分类，如果置信度过低则说明已经有新的话题出现，如果大量文本聚集到某一个话题，则说明该话题在未来热度较高。


